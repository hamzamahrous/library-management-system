<section class="container my-12">
  @if(cartItems && cartItems.length > 0){
  <div class="container mt-12">
    <h1 class="text-4xl font-semibold text-center text-slate-700 mb-12">
      Shopping Cart
    </h1>

    @for (item of cartItems; track item) {
    <app-cart-item
      [bookId]="item.book"
      [quantity]="item.quantity"
      [itemId]="item.transaction_id"
      (itemDeleted)="handleItemDeleted($event)"
    ></app-cart-item>
    }

    <div class="mt-12 flex flex-col justify-center items-center gap-4">
      <div class="flex justify-center items-center gap-40 md:gap-[274px]">
        <h2 class="text-slate-700 text-xl font-semibold mt-3 mb-4">Total:</h2>

        <span class="text-slate-900 font-bold">{{ sum | currency }}</span>
      </div>
      <div class="flex justify-center items-center gap-3">
        <button
          class="bg-gray-300 text-gray-700 py-2 rounded-md text-sm md:text-base px-3 md:px-5"
          routerLink="/books"
        >
          Continue Shopping</button
        ><button
          class="bg-slate-800 text-white py-2 rounded-md text-sm md:text-base px-3 md:px-5"
          routerLink="/checkout"
        >
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>
  } @else {
  <div class="text-center mt-52 text-slate-600">
    <h2 class="text-3xl font-semibold mb-4">Your cart is empty</h2>
    <p class="mb-6">Looks like you haven't added anything to your cart yet.</p>
    <button
      class="bg-slate-800 text-white px-5 py-2 rounded-md text-sm md:text-base hover:bg-slate-700"
      routerLink="/books"
    >
      Browse Books
    </button>
  </div>
  }
</section>
